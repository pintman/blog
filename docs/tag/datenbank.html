<!DOCTYPE html>
<html lang="de">
<head>
        <meta charset="utf-8" />
        <title>/home/bakera/blog - Datenbank</title>
        <link rel="stylesheet" href="https://blog.bakera.de/theme/css/main.css" />
        <link href="https://blog.bakera.de/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="/home/bakera/blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://blog.bakera.de/">/home/bakera/blog </a></h1>
                <nav><ul>
                    <li><a href="https://blog.bakera.de/pages/about.html">Über</a></li>
                    <li><a href="https://blog.bakera.de/pages/impressum.html">Impressum, Datenschutz</a></li>
                    <li><a href="https://blog.bakera.de/pages/wiki.html">Wiki</a></li>
                    <li><a href="https://blog.bakera.de/category/sonstiges.html">Sonstiges</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://blog.bakera.de/eine-emotionale-datenreise-durch-die-sms-vom-9-september-2001.html">Eine emotionale Datenreise durch die SMS vom 11. September 2001</a></h1>
<footer class="post-info">
        <abbr class="published" title="2014-03-25T14:19:00+01:00">
                Published: Di 25 März 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://blog.bakera.de/author/marcobakera.html">marco.bakera</a>
        </address>
<p>In <a href="https://blog.bakera.de/category/sonstiges.html">Sonstiges</a>.</p>
<p>tags: <a href="https://blog.bakera.de/tag/datenbank.html">Datenbank</a> </p>
</footer><!-- /.post-info --><p>Wikileaks hat vor einigen Jahren die SMS
<a class="reference external" href="https://911.wikileaks.org/">veröffentlicht</a>, die während des
Anschlages auf das World Trace Center am 11. September 2001 verschickt
wurden. Ich habe mir die Daten etwas genauer angeschaut.</p>
<p>Zunächst habe ich mir die Rohdaten heruntergeladen. Es gibt eine
<a class="reference external" href="http://file.wikileaks.org/file/9-11_all_messages.7z">Datei</a>, die
alle Nachrichten in einer überschaubar großen Textdatei enthält. Nach
dem Auspacken landet eine Datei mit dem nüchternen Namen
&quot;messages_all.txt&quot; auf meinem Rechner. Ein Blick in die Datei verrät
schnell ihren Aufbau. Die einzelnen Felder wie Datum und Uhrzeit sind
durch Leerzeichen voneinander getrennt. Es gibt seltsame Codes und den
eigentlichen Text der Nachricht.</p>
<p>Zunächst müssen die Daten etwas aufbereitet werden, um eine saubere
CSV-Datei zu erhalten, die ich in eine Datenbank importieren kann.
Zuerst habe ich die Datei nach einem Zeichen durchsucht,&nbsp; das überhaupt
nicht in der Datei enthalten ist. Dieses Zeichen kann ich dann als
Feldtrenner verwenden. Bei '§' wurde ich fündig. Dies soll mein
Feldtrenner werden. Mit einem kleinen Script, das ich an sed verfüttere,
sollte eine CSV-Datei entstehen, die ich in
<a class="reference external" href="http://www.sqlite.org">sqlite</a> einlesen kann.</p>
<pre class="literal-block">
s/&nbsp; */§/ # Leerzeichen im vorderen Bereich entfernen
s/&nbsp; */§/
s/&nbsp; */§/
s/&nbsp; */§/
s/&nbsp; */§/
s/&nbsp; */§/
s/\[// # Eckige Klammern entfernen
s/\]// #
s/&quot;//g # &quot; wird beim Import in sqlite falsch interpretiert
</pre>
<p>Anschließend kann ich sqlite öffnen. Ich erstelle zuerst eine Tabelle
für meine Daten.</p>
<pre class="literal-block">
CREATE TABLE msgs (
  datum date,
  zeit time,
  anbieter varchar,
  id varchar,
  kennung varchar,
  kennung2 varchar,
  text varchar);
</pre>
<p>Die Daten können nun in diese neue Tabelle importiert werden. Dazu öffne
ich sqlite und führe die beiden folgenden Befehle aus.</p>
<pre class="literal-block">
.separator &quot;§&quot;
.import messages.csv msgs
</pre>
<p>Eine erste Anfrage zeigt mir, wie viele Nachrichten verschickt wurden.
Diese Zahl stimmt mit der Anzahl der Zeilen aus der Textdatei überein,
die ich mit &quot;wc -l messages_all.txt&quot; erhalte - es scheint also geklappt
zu haben.</p>
<pre class="literal-block">
SELECT COUNT(*) FROM msgs;
count(*)
----------
448358
</pre>
<p>448358 Nachrichten. 448358 Geschichten. 448358 Schicksale. Ein Blick
durch die Textdatei verrät, dass sich dort sowohl ganz persönliche
Schicksale wiederfinden als auch Computer, die in regelmäßigen Abständen
Fehlerberichte an ihre Administratoren verschicken. Auch die
Einsatzkräfte vor Ort kommunizieren auf diesem Wege.</p>
<p>Ich erstelle mir ein kleines Bash-Skript, mit dessen Hilfe ich meine
Anfragen schnell mittels <a class="reference external" href="http://www.gnuplot.info/">gnuplot</a>
visualisieren kann.</p>
<pre class="literal-block">
#!/bin/bash

SQL=$1
CSVFILE=/tmp/gnuplot.csv

# Mit tail -n +3 wird die Ausgabe erst ab der dritten Zeile in die Datei umgeleitet
# sqlite beginnt mit einer leeren Zeile und gibt dann die header aus
sqlite3 -csv messages_all.sqlite &quot;${SQL}&quot; |tail -n +3 &gt; $CSVFILE

gnuplot -p -e &quot;set datafile separator \&quot;,\&quot;;plot [] [0:] \&quot;$CSVFILE\&quot;&quot;
</pre>
<p>Ich kann dem Skript einen SQL-Befehl übergeben. Die Ausgabe wird als
CSV-Datei abgespeichert und von gnuplot anschließend visualisiert.</p>
<p>Ich möchte mir zunächst einen Überblick über die Verteilung der Anzahl
der SMS über den Tag verschaffen, setze den folgenden SQL-Befehl ab und
erhalte das folgende Bild.</p>
<pre class="literal-block">
-- Abfragen über den zeitlichen Verlauf mit Dezimalzeiten
select strftime('%H',zeit)+strftime('%M',zeit)/60.0 zeit2, count(*) anzahl
from msgs
group by datum, zeit2
</pre>
<p><a class="reference external" href="images/2014/03/Anzahl-SMS-nach-Uhrzeit.png"><img alt="Anzahl SMS nach Uhrzeit" class="alignnone size-full wp-image-869" src="images/2014/03/Anzahl-SMS-nach-Uhrzeit.png" style="width: 640px; height: 480px;" /></a></p>
<p>Ab kurz vor 9 gibt es einen starken Anstieg als das erste Flugzeug in
den ersten Turm fliegt. Die Anzahl der verschickten SMS vervierfacht
sich plötzlich. Ich versuche, die Anfrage abzuwandeln und bin nun nur
noch an Nachrichten interessiert, deren Text das Wort &quot;plane&quot; enthält.
Ich erhalte das folgende Ergebnis.</p>
<pre class="literal-block">
select
  strftime('%H',zeit)+strftime('%M',zeit)/60.0 zeit2,
  count(*) anzahl
from msgs
where text like '%plane%'
group by datum, zeit2
</pre>
<p><a class="reference external" href="images/2014/03/SMS-mit-Text-plane.png"><img alt="SMS mit Text plane" class="alignnone size-full wp-image-871" src="images/2014/03/SMS-mit-Text-plane.png" style="width: 640px; height: 480px;" /></a></p>
<p>Das Bild zeigt auch hier einen erkennbaren Anstieg der Anzahl der SMS.
Ich probiere weitere Einschränkungen aus - emotionale Schlüsselwörter
wie 'love', 'war' und 'terror' - und werde den Eindruck nicht los, hier
doch ganz private Schicksale zu durchleuchten.</p>
<p>Ich bekomme ein mulmiges Gefühl und beende meine Recherche vorerst. Ich
schließe alle Fenster und lasse die SMS zunächst ruhen. Man könnte noch
tiefer recherchieren, eine Begriffswolke auf den SMS erzeugen und auf
einem Zeitstrahl abbilden. Auch andere Analysen sind denkbar: Wie lässt
sich der Absturz der Computerrechner darstellen? Wie kann die
Kommunikation der Rettungskräfte visualisiert werden?</p>
<p>Eines habe ich bei meinem Projekt gelernt: Die Daten erzählen ihre ganz
eigene Geschichte - vielleicht hat sie sogar etwas mit der Realität zu
tun. Vielleicht aber auch nicht. Und: Daten haben etwas mit Menschen zu
tun. Daher müssen wir sie schützen, auf sie aufpassen und sorgsam mit
ihnen umgehen.</p>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="https://blog.bakera.de/fachinformatiker-der-itf11a-erklaeren-sql-joins-anlaesslich-der-codeeu.html" rel="bookmark"
                           title="Permalink to Fachinformatiker der ITF11a erklären SQL JOINS anlässlich der #codeEU">Fachinformatiker der ITF11a erklären SQL JOINS anlässlich der #codeEU</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-11-29T22:21:00+01:00">
                Published: Fr 29 November 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://blog.bakera.de/author/marcobakera.html">marco.bakera</a>
        </address>
<p>In <a href="https://blog.bakera.de/category/sonstiges.html">Sonstiges</a>.</p>
<p>tags: <a href="https://blog.bakera.de/tag/datenbank.html">Datenbank</a> <a href="https://blog.bakera.de/tag/informatik.html">Informatik</a> <a href="https://blog.bakera.de/tag/video.html">Video</a> </p>
</footer><!-- /.post-info -->                <p><a class="reference external" href="http://bakera.de/wp/2013/11/25-11-30-11-europe-code-week-denn-programmieren-macht-spass/">Code Week
EU</a></p>

                <a class="readmore" href="https://blog.bakera.de/fachinformatiker-der-itf11a-erklaeren-sql-joins-anlaesslich-der-codeeu.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://blog.bakera.de/programmierwettbewerb-welche-strasse-in-toronto-liefert-die-hoechsten-strafgebuehren-fuer-falschparker.html" rel="bookmark"
                           title="Permalink to Programmierwettbewerb: Welche Straße in Toronto liefert die höchsten Strafgebühren für Falschparker?">Programmierwettbewerb: Welche Straße in Toronto liefert die höchsten Strafgebühren für Falschparker?</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-11-24T10:37:00+01:00">
                Published: So 24 November 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://blog.bakera.de/author/marcobakera.html">marco.bakera</a>
        </address>
<p>In <a href="https://blog.bakera.de/category/sonstiges.html">Sonstiges</a>.</p>
<p>tags: <a href="https://blog.bakera.de/tag/datenbank.html">Datenbank</a> <a href="https://blog.bakera.de/tag/programmierung.html">Programmierung</a> </p>
</footer><!-- /.post-info -->                <p>Bei <em>Programmr</em> läuft bis zum 6.12. ein
<a class="reference external" href="http://www.programmr.com/toronto_parking_ticket_contests">Programmierwettbewerb</a>
mit einer spannenden Aufgabenstellung.</p>
<blockquote>
Your mission is to write a program to figure out which Toronto
street gave the city the most revenue from parking tickets in the
first week of January 2012.</blockquote>
<p>Dazu stellt die Webseite die Rohdaten&nbsp; in Form …</p>
                <a class="readmore" href="https://blog.bakera.de/programmierwettbewerb-welche-strasse-in-toronto-liefert-die-hoechsten-strafgebuehren-fuer-falschparker.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://blog.bakera.de/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>