<!DOCTYPE html>
<html lang="de">
<head>
        <meta charset="utf-8" />
        <title>/home/bakera/blog - xmpp</title>
        <link rel="stylesheet" href="https://blog.bakera.de/theme/css/main.css" />
        <link href="https://blog.bakera.de/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="/home/bakera/blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://blog.bakera.de/">/home/bakera/blog </a></h1>
                <nav><ul>
                    <li><a href="https://blog.bakera.de/pages/about.html">Über</a></li>
                    <li><a href="https://blog.bakera.de/pages/impressum.html">Impressum, Datenschutz</a></li>
                    <li><a href="https://blog.bakera.de/pages/wiki.html">Wiki</a></li>
                    <li><a href="https://blog.bakera.de/category/sonstiges.html">Sonstiges</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://blog.bakera.de/ein-eigener-jabber-server.html">Ein eigener Jabber-Server</a></h1>
<footer class="post-info">
        <abbr class="published" title="2015-05-26T07:51:00+02:00">
                Published: Di 26 Mai 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://blog.bakera.de/author/marcobakera.html">marco.bakera</a>
        </address>
<p>In <a href="https://blog.bakera.de/category/sonstiges.html">Sonstiges</a>.</p>
<p>tags: <a href="https://blog.bakera.de/tag/chat.html">Chat</a> <a href="https://blog.bakera.de/tag/chatsecure.html">chatsecure</a> <a href="https://blog.bakera.de/tag/jabber.html">jabber</a> <a href="https://blog.bakera.de/tag/pidgin.html">pidgin</a> <a href="https://blog.bakera.de/tag/prosody.html">prosody</a> <a href="https://blog.bakera.de/tag/xmpp.html">xmpp</a> </p>
</footer><!-- /.post-info --><p><img alt="XMPP_logo.svg" class="alignnone size-full wp-image-1696" src="images/2015/04/XMPP_logo.svg_.png" style="width: 233px; height: 240px;" /></p>
<p>Die fehlende Vielfalt und die kritische Datenschutzsituation freier
Messenger wie WhatsApp haben mich bewogen, nach Alternativen Ausschau zu
halten. Früher haben wir den Kampf schon einmal mit ICQ ausfechten
müssen - und mit dem Siegeszug von
<a class="reference external" href="https://de.wikipedia.org/wiki/Extensible_Messaging_and_Presence_Protocol">XMPP</a>
und Jabber gewonnen. Nachdem sich Google und Facebook von diesem
Standard - zumindest in öffentlichen Schnittstellen - verabschiedet
haben oder verabschieden werden, ist es wieder einmal an der&nbsp; Zeit, das
Breitschwert der digitalen Emanzipation aus dem Rucksack zu holen.</p>
<p>Nun wiederholt sich die Geschichte also im Mobilbereich. Als Jabber-User
der frühen Stunde bin ich auf die Idee gekommen, einen eigenen
Jabber-Server aufzusetzen. Eigentlich ist es ja ein XMPP-Server, aber
das hört sich irgendwie zu technisch an.</p>
<p><img alt="prosody" class="alignnone size-full wp-image-1694" src="images/2015/04/prosody.png" style="width: 757px; height: 170px;" /></p>
<p>Nach einer kurzen Recherche unter verschiedenen Jabber-Servern fiel die
Wahl auf die Software <a class="reference external" href="http://prosody.im/">Prosody</a>, die nun auch auf
<a class="reference external" href="http://www.bakera.de/wp/2014/10/my-home-is-my-server/">meinem
Server</a> läuft.
Eine <a class="reference external" href="https://xmpp.net/directory.php">Liste mit öffentlichen Servern</a>
verrät, welche Software häufig zum Einsatz kommt und ermöglicht eine
erste Einschätzung. Prosody ist leicht zu konfigurieren und
ressourcenschonend im Betrieb. Wer zudem in die <a class="reference external" href="http://prosody.im/doc/developers/modules">Programmierung mit
lua</a> einsteigen möchte,
findet mit Prosody ein interessantes Projekt. Andere Server wie
<em>ejabberd</em> habe ich nicht getestet und kann sie daher weder empfehlen
noch von ihnen abraten. Ihr könnt mich nun unter der JabberID (JID)
<em>marco&#64;jabber.bakera.de</em> erreichen - kontaktiert mich mal, wenn ihr eure
eigene Konfiguration testen wollt.</p>
<p>Kommen wir nun zur Installation und Konfiguration des Servers. Prosody
ist mit <em>apt-get install prosody</em> schnell auf einem Debian-System
installiert. Dann kann im Ordner <em>/etc/prosody</em> die Konfiguration
erfolgen. Eine allgemeine Konfigurationsdatei liegt in&nbsp;<em>/etc/prosody</em>,
die Konfigurationsdateien für einen oder mehrere Hosts liegen in
<em>/etc/prosody/conf.avail</em>. Aktive Konfigurationen werden aus
<em>/etc/prosody/conf.d</em> verlinkt und können so bequem aktiviert und
deaktiviert werden.</p>
<p>Der Server muss sich mit einem Zertifikat ausweisen, das jedoch leicht
mit <em>prosodyctl cert generate jabber.bakera.de</em> generiert werden kann.
Es wird ein selbst signiertes Zertifikat erstellt. Manche Clients
meckern da ein wenig herum, weil es nicht von einer &quot;ordentlichen&quot; CA
unterschrieben wurde. Meist muss man dies jedoch nur beim ersten Kontakt
mit dem Server im Client bestätigen. Da ich der einzige Nutzer auf dem
Jabber-Server bin, vertraue ich mir natürlich.</p>
<p>Damit der Server von Außen erreichbar ist, habe ich eine neue Subdomain
<em>jabber.bakera.de</em> im DNS eingetragen und in meiner Fritzbox die Ports
5222 und 5269 auf meinen Server weitergeleitet. Port 5222 vermittelt die
Kommunikation der Clients mit dem Server (c2s - client to server), Port
5269 realisiert die Kommunikation zwischen verschiedenen Jabber-Servern
(s2s - server to server).</p>
<p>Einen ersten Hinweis darauf, ob alles korrekt läuft, liefert ein Test
von <a class="reference external" href="https://xmpp.net/">xmpp.net</a> - bringt bei eigenen Versuchen
etwas Geduld mit, da der Test einige Minuten dauern kann.</p>
<p>Damit ist die Konfiguration auch schon fertig. Die einzelnen Module von
prosody können jetzt noch separat konfiguriert werden. Die Dokumentation
auf der Seite von prosody hilft hierbei weiter.</p>
<p><img alt="Pidgin-chatsecure" class="alignnone size-full wp-image-1711" src="images/2015/04/Pidgin-chatsecure.png" style="width: 276px; height: 152px;" /></p>
<p>Nachdem der Server nun steht, geht es an die Clients, die sich mit ihm
verbinden sollen. Dafür habe ich auf dem Desktop
<a class="reference external" href="https://pidgin.im/">pidgin</a> und auf meinem Handy
<a class="reference external" href="https://chatsecure.org/">chatsecure</a> installiert. Pidgin kenne ich
seit vielen Jahren. Es läuft unter Windows, Linux und Mac OS, hat viele
Plugins und ist trotzdem nicht überladen. Auf dem Handy teste ich
chatsecure, das eine einfache Bedienung verspricht und vom
guardianproject unterstützt wird. Wer keinen zusätzlichen Client
installieren möchte und sowieso schon Thunderbird installiert hat, kann
auch <a class="reference external" href="https://support.mozilla.org/de/kb/sofortnachrichten-und-chat">diesen dafür
verwenden</a>.
Leider gibt es derzeit (Stand Mai 2015) keine Unterstützung für eine
Verschlüsselung in Thunderbird Chat, obwohl eine
<a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=954310">Anfrage</a> dafür
seit mehreren Jahren diskutiert wird.</p>
<p>Nun steht (m)einer freien und sicheren Kommunikation nichts mehr im
Wege.</p>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="https://blog.bakera.de/sammelsurium-gobby-retro-fhs-desktop-ct-bildungsrevolution-indieweb-xmpp.html" rel="bookmark"
                           title="Permalink to Sammelsurium: Gobby, Retro, FHS, Desktop, c't, Bildungsrevolution, IndieWeb, XMPP">Sammelsurium: Gobby, Retro, FHS, Desktop, c't, Bildungsrevolution, IndieWeb, XMPP</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-05-14T11:40:00+02:00">
                Published: Do 14 Mai 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://blog.bakera.de/author/marcobakera.html">marco.bakera</a>
        </address>
<p>In <a href="https://blog.bakera.de/category/sonstiges.html">Sonstiges</a>.</p>
<p>tags: <a href="https://blog.bakera.de/tag/bildungsrevolution.html">Bildungsrevolution</a> <a href="https://blog.bakera.de/tag/ct.html">c&#39;t</a> <a href="https://blog.bakera.de/tag/desktop.html">Desktop</a> <a href="https://blog.bakera.de/tag/fhs.html">FHS</a> <a href="https://blog.bakera.de/tag/gobby.html">Gobby</a> <a href="https://blog.bakera.de/tag/indieweb.html">IndieWeb</a> <a href="https://blog.bakera.de/tag/retro.html">Retro</a> <a href="https://blog.bakera.de/tag/xmpp.html">xmpp</a> </p>
</footer><!-- /.post-info -->                <p><img alt="cc: Freepik" class="size-full wp-image-1523" src="images/2014/12/wwwSitzen2.png" style="width: 506px; height: 334px;" /></p>
<p>cc: Freepik</p>
<ul class="simple">
<li>Mit
<a class="reference external" href="http://manpages.ubuntu.com/manpages/karmic/man1/sendxmpp.1.html">sendxmpp</a>
können xmpp- bzw. Jabber-Nachrichten von der Kommandozeile aus
gesendet werden.</li>
<li><a class="reference external" href="https://indieauth.com/">IndieAuth</a> &quot;IndieAuth: Sign in with your
domain name&quot;</li>
<li>Das <a class="reference external" href="http://indiewebcamp.com/">IndieWeb</a> möchte ein offenes und
freies Web: &quot;The IndieWeb Community is largely based on principles
(...) such as own your data, scratch your own itches, build tools for …</li></ul>
                <a class="readmore" href="https://blog.bakera.de/sammelsurium-gobby-retro-fhs-desktop-ct-bildungsrevolution-indieweb-xmpp.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://blog.bakera.de/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>